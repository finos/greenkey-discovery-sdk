# entities for previous class_credit.py

entities:
  - one_through_seven:
    - a
    - an
    - one
    - two
    - three
    - four
    - five
    - six
    - seven
  - denominator:
    - quarter
    - quarters
    - fourth
    - half
    - eighth
    - eighths
    - eights

  - fraction:
    - "and? @one_through_seven @denominator"

  - spot_num:
    - "(spot|point) @num{1,6}"  # NOTE: @num entity to be replaced by @digit

  - cbond_product:
    - file: "tests/assets/cbond_products.txt"

  - upcoming_year:
    - "@num{1,6}"
    - validation: "int(entity) > 19 and int(entity) < 30" #"is_upcoming_year.py"  # ( datetime.now.year() < x < datetime.now.year() + 10 , x is an int)
  
  - coupon:
    - "@num{1,6}" #(@spot_num | @fraction)?"  # validation on spot_num and fraction may not work
    - validation: "int(entity) > 0 and int(entity) < 20"  # formatting is done before float() is applied
  
  - cbond_instrument:
    - "@cbond_product @coupon? @upcoming_year?"
    - spacing_threshold: 1
  
  - price1:  # entity_requirements is needed. req: cbond_product for price database checking
    - "@num{1,3}"
    - validation: "int(entity) > 80 and int(entity) < 121"  # assuming price is +/- 20% of 100
    
  - price2:  # entity_requirements is needed. req: cbond_product, price1
    - "@num{1,3}"
    - validation: "int(entity) > 80 and int(entity) < 121"  # assuming price is +/- 20% of 100
  - full_str:
    - "@cbond_instrument @price1? @price2?"

intents:
  - cbond:
    - examples:
      - "i have a @cbond_instrument for @price1 @price2"
      - "i have a @full_str"
    